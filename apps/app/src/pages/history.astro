---
import MainLayout from '../layouts/MainLayout.astro';
import Journal from '../components/Journal.vue';
import { requireAuth } from '../lib/auth';

const { redirect } = await requireAuth(Astro.cookies, Astro.request.headers);

if (redirect) {
  return Astro.redirect(redirect);
}
---

<MainLayout title="Journal" activeRoute="/history">
  <Journal client:load />
</MainLayout>

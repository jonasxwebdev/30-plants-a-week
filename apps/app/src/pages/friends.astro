---
import MainLayout from '../layouts/MainLayout.astro';
import FriendsComponent from '../components/Friends.vue';
import { requireAuth } from '../lib/auth';

const { redirect } = await requireAuth(Astro.cookies, Astro.request.headers);

if (redirect) {
  return Astro.redirect(redirect);
}
---

<MainLayout title="Freunde" activeRoute="/friends">
  <FriendsComponent client:load />
</MainLayout>

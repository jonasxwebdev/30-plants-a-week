---
import MainLayout from '../layouts/MainLayout.astro';
import Friends from '../components/Friends.vue';
import { requireAuth } from '../lib/auth';

const { redirect } = await requireAuth(Astro.cookies, Astro.request.headers);

if (redirect) {
  return Astro.redirect(redirect);
}
---

<MainLayout title="Freunde" activeRoute="/friends">
  <Friends client:load />
</MainLayout>
